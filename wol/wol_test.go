package wol

import (
	"bytes"
	"net"
	"testing"
)

func TestNewMagicPacket(t *testing.T) {
	hwAddr, err := net.ParseMAC("65:ac:81:13:8d:3f")
	if err != nil {
		t.Fatal(err)
	}
	got := NewMagicPacket(hwAddr)
	want := []byte{
		255, 255, 255, 255, 255, 255,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
		101, 172, 129, 19, 141, 63,
	}
	if !bytes.Equal(got, want) {
		t.Errorf("want %v, got %v", want, got)
	}
}
